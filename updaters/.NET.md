# Updating BELA with your .NET Projects

## Preparation: Build Your Projects

Make sure your projects are restored. You can skip this step if the projects in your repository are already restored.

Example for a simple .NET project:

```
dotnet restore
```

## 1. Run the Bela Updater

**Inside your repo folder** run the bela-updater docker app. It analyses the projects in your repo and generates the `bela-update.json` file.

> [!IMPORTANT]
> It runs with network=none for secure containment.

An example using the `GITHUB_REPOSITORY` env var as source. Adapt it with your own [source](/Concepts.md#sources):
```
docker run --network=none --pull=always \
           -v ./:/workspace/ \
           -v ~/.nuget:/root/.nuget:ro \
           juxhouse/bela-updater-dotnet -source "$GITHUB_REPOSITORY"
```

## 2. Upload to BELA

Use this command to upload to BELA the bela-update.json file generated above:

```
curl -f "https://$BELA_HOST/architecture" \
     -H "Authorization: $BELA_TOKEN" \
     -H "Content-Type: application/json" \
     --data @bela-update.json
```
You can obtain your BELA_HOST and BELA_TOKEN from the BELA web app.
