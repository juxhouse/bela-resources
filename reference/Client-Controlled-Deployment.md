# Client-Controlled Deployment
(AKA "On-Premisses", AKA "Bring Your Own Cloud")

With an enterprise account you can deploy BELA as a container in your own environment.

The required CPU, RAM, and disk resources for the container are determined by the number of simultaneous users and the number of lines of code to be imported, using this simple [calculator](https://bela.live/container-sizing).

## BELA Data Volume

The container must have a file directory mounted at the volume `\bela-data`. This directory must provide durability equivalent to Amazon's EBS or EFS and must have backup procedures enabled.

The container must be configured as a single instance. No more than one container can access the same file directory. Therefore, the container cannot be configured for horizontal scaling.

The BELA container runs with a restricted user (non-root) with a user ID (UID) and group ID (GID) of `1000000042`. Consequently, the mounted directory must have its UID and GID set accordingly:

```bash
sudo chown 1000000042:1000000042 /path/to/directory
```

## Single Sign-On (SSO)

You can activate SSO in BELA using OAuth2 OpenID (not SAML).

1. Register BELA as an application with your SSO provider. Use this as the redirect URI: `https://{your-bela-host}/callback`

Examples for some popular providers:
- [Google](/reference/SSO-Google.md)
- [Microsoft Entra ID](/reference/SSO-Microsoft-Entra-ID.md)
- [Okta](/reference/SSO-Okta.md)

2. Add the following properties to the [bela.properties](/reference/bela.properties.md) file:

|Property|Value|
|--------|-----|
| openid.client.id | The client id for BELA generated by your SSO provider above.
| openid.client.secret | The client secret for BELA generated by your SSO provider above.
| openid.configuration.url | The configuration URL for your SSO provider. It follows the pattern: `https://{host}/.well-known/openid-configuration`


